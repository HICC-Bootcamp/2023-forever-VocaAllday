<!DOCTYPE html>
<html lang="ko"xmlns:th="http://www.thymleaf.org">
<head>
    <title>solveTestWord</title>
    <link href="/css/solveTest.css" th:href="@{/css/solveTest.css}" rel="stylesheet">
    <link href="/css/header.css" th:href="@{/css/header.css}" rel="stylesheet">
    <script src="/js/solveTest.js" th:src="@{/js/solveTest.js}"></script>
    <script src="https://kit.fontawesome.com/c50c4da782.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
</head>

<body>
<div th:replace="fragments/header :: header">-- thymeleaf header will be inserted here. --</div>
<form action="/exam/word" id="form" method="post" onsubmit="return false" th:object="${wordFormDto}">
    <div class="wrapper">

        <!-- 문제지 -->
        <div class="wrapper_left">
            <div class="left_header">
                <div class="input_title">문제지</div>
            </div>

            <div class="left_body" id="left_body">
                <div class="word_container" th:switch="${examInfoDto.type}">
                    <span class="word_text_box" th:case="WORD" th:text="${examInfoDto.words[0]}"></span>
                    <span class="word_text_box" th:case="MEANING" th:text="${examInfoDto.meanings[0]}"></span>
                    <input class="word_text_box" id="answer1" name="userValues" field="*{userValues[0]}" placeholder="1번 답">
                </div>
                <div class="word_container" th:switch="${examInfoDto.type}">
                    <span class="word_text_box" th:case="WORD" th:text="${examInfoDto.words[1]}"></span>
                    <span class="word_text_box" th:case="MEANING" th:text="${examInfoDto.meanings[1]}"></span>
                    <input class="word_text_box" id="answer2" name="userValues" field="*{userValues[1]}" placeholder="2번 답">
                </div>
                <div class="word_container" th:switch="${examInfoDto.type}">
                    <span class="word_text_box" th:case="WORD" th:text="${examInfoDto.words[2]}"></span>
                    <span class="word_text_box" th:case="MEANING" th:text="${examInfoDto.meanings[2]}"></span>
                    <input class="word_text_box" id="answer3" name="userValues" field="*{userValues[2]}" placeholder="3번 답">
                </div>
                <div class="word_container" th:switch="${examInfoDto.type}">
                    <span class="word_text_box" th:case="WORD" th:text="${examInfoDto.words[3]}"></span>
                    <span class="word_text_box" th:case="MEANING" th:text="${examInfoDto.meanings[3]}"></span>
                    <input class="word_text_box" id="answer4" name="userValues" field="*{userValues[3]}" placeholder="4번 답">
                </div>
                <div class="word_container" th:switch="${examInfoDto.type}">
                    <span class="word_text_box" th:case="WORD" th:text="${examInfoDto.words[4]}"></span>
                    <span class="word_text_box" th:case="MEANING" th:text="${examInfoDto.meanings[4]}"></span>
                    <input class="word_text_box" id="answer5" name="userValues" field="*{userValues[4]}" placeholder="5번 답">
                </div>
                <div class="word_container" th:switch="${examInfoDto.type}">
                    <span class="word_text_box" th:case="WORD" th:text="${examInfoDto.words[5]}"></span>
                    <span class="word_text_box" th:case="MEANING" th:text="${examInfoDto.meanings[5]}"></span>
                    <input class="word_text_box" id="answer6" name="userValues" field="*{userValues[5]}" placeholder="6번 답">
                </div>
                <div class="word_container" th:switch="${examInfoDto.type}">
                    <span class="word_text_box" th:case="WORD" th:text="${examInfoDto.words[6]}"></span>
                    <span class="word_text_box" th:case="MEANING" th:text="${examInfoDto.meanings[6]}"></span>
                    <input class="word_text_box" id="answer7" name="userValues" field="*{userValues[6]}" placeholder="7번 답">
                </div>
                <div class="word_container" th:switch="${examInfoDto.type}">
                    <span class="word_text_box" th:case="WORD" th:text="${examInfoDto.words[7]}"></span>
                    <span class="word_text_box" th:case="MEANING" th:text="${examInfoDto.meanings[7]}"></span>
                    <input class="word_text_box" id="answer8" name="userValues" field="*{userValues[7]}" placeholder="8번 답">
                </div>

            </div>
        </div>

        <!-- 보기 -->
        <div class="wrapper_right" id="wrapper_right" >
            <div class="right_header">
                <div class="header_logo">
                    <i class="fa-sharp fa-solid fa-pen-to-square"></i>
                </div>
                <div class="header_text">
                    <div class="title">문제지 풀기</div>
                    <div class="subtitle">보기를 참고해 답을 입력하세요!</div>
                </div>
            </div>
            <div class="dividedLine"></div>

            <div class="right_body">
            <span th:switch="${examInfoDto.type}">
                <input type="checkbox" id="hint_ck1" onclick="delete_hint(1)">
                <span id="hint1" th:case="WORD" th:text="${examInfoDto.meanings[0]}"></span>
                <span id="hint1" th:case="MEANING" th:text="${examInfoDto.words[0]}"></span>
            </span>
            <span th:switch="${examInfoDto.type}">
                <input type="checkbox" id="hint_ck2" onclick="delete_hint(2)">
                <span id="hint2" th:case="WORD" th:text="${examInfoDto.meanings[1]}"></span>
                <span id="hint2" th:case="MEANING" th:text="${examInfoDto.words[1]}"></span>
            </span>
            <span th:switch="${examInfoDto.type}">
                <input type="checkbox" id="hint_ck3" onclick="delete_hint(3)">
                <span id="hint3" th:case="WORD" th:text="${examInfoDto.meanings[2]}"></span>
                <span id="hint3" th:case="MEANING" th:text="${examInfoDto.words[2]}"></span>
            </span>
            <span th:switch="${examInfoDto.type}">
                <input type="checkbox" id="hint_ck4" onclick="delete_hint(4)">
                <span id="hint4" th:case="WORD" th:text="${examInfoDto.meanings[3]}"></span>
                <span id="hint4" th:case="MEANING" th:text="${examInfoDto.words[3]}"></span>
            </span>
            <span th:switch="${examInfoDto.type}">
                <input type="checkbox" id="hint_ck5" onclick="delete_hint(5)">
                <span id="hint5" th:case="WORD" th:text="${examInfoDto.meanings[4]}"></span>
                <span id="hint5" th:case="MEANING" th:text="${examInfoDto.words[4]}"></span>
            </span>
            <span th:switch="${examInfoDto.type}">
                <input type="checkbox" id="hint_ck6" onclick="delete_hint(6)">
                <span id="hint6" th:case="WORD" th:text="${examInfoDto.meanings[5]}"></span>
                <span id="hint6" th:case="MEANING" th:text="${examInfoDto.words[5]}"></span>
            </span>
            <span th:switch="${examInfoDto.type}">
                <input type="checkbox" id="hint_ck7" onclick="delete_hint(7)">
                <span id="hint7" th:case="WORD" th:text="${examInfoDto.meanings[6]}"></span>
                <span id="hint7" th:case="MEANING" th:text="${examInfoDto.words[6]}"></span>
            </span>
            <span th:switch="${examInfoDto.type}">
                <input type="checkbox" id="hint_ck8" onclick="delete_hint(8)">
                <span id="hint8" th:case="WORD" th:text="${examInfoDto.meanings[7]}"></span>
                <span id="hint8" th:case="MEANING" th:text="${examInfoDto.words[7]}"></span>
            </span>
            </div>

            <!--백에서 받은 정보 그대로 돌려주기(meaning,words,type=>wordList,meaningList,examType)-->
            <input type="hidden" name="examType" th:value="${examInfoDto.type}" >
            <input type="hidden" name="vocaTitle" th:value="${examInfoDto.vocaTitle}">
            <tr th:each="num :  ${#numbers.sequence(0,7)}">
                <td>
                    <input type="hidden" name="meaningList" th:value="${examInfoDto.meanings[__${num}__]}" >
                    <input type="hidden" name="wordList" th:value="${examInfoDto.words[__${num}__]}" >
                </td>
            </tr>

            <div class="right_footer">
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
                <button class="button" id="submit_but" onclick="check_validation()">
                    <i class="fa-sharp fa-solid fa-check"></i>
                    <span class="submit_but_text">Submit</span>
                </button>
            </div>
        </div>
    </div>
</form>

</body>
</html>